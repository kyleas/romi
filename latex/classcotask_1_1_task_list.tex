\doxysection{cotask.\+Task\+List Class Reference}
\hypertarget{classcotask_1_1_task_list}{}\label{classcotask_1_1_task_list}\index{cotask.TaskList@{cotask.TaskList}}


A list of tasks used internally by the task scheduler.  


\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcotask_1_1_task_list_aad6d72c01326f1c869492c5643f2a42e}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self)
\begin{DoxyCompactList}\small\item\em Initialize the task list. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcotask_1_1_task_list_ab6aaf44123a285f4355919a5a8229c39}{append}} (self, task)
\begin{DoxyCompactList}\small\item\em Append a task to the task list. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcotask_1_1_task_list_aa048a6b12954d03b8fbf78dff7ace907}{rr\+\_\+sched}} (self)
\begin{DoxyCompactList}\small\item\em Run tasks in order, ignoring the tasks\textquotesingle{} priorities. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcotask_1_1_task_list_a53819d1e25955560b7cb06bd21715966}{pri\+\_\+sched}} (self)
\begin{DoxyCompactList}\small\item\em Run tasks according to their priorities. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classcotask_1_1_task_list_a425ca90daaae28550bf1b3aa2da018ab}{\+\_\+\+\_\+repr\+\_\+\+\_\+}} (self)
\begin{DoxyCompactList}\small\item\em Create some diagnostic text showing the tasks in the task list. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
list \mbox{\hyperlink{classcotask_1_1_task_list_a724ac8246e4b4bf4493d5fce02a8307e}{pri\+\_\+list}} = \mbox{[}$\,$\mbox{]}
\begin{DoxyCompactList}\small\item\em The list of priority lists. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A list of tasks used internally by the task scheduler. 

This class holds the list of tasks which will be run by the task scheduler. The task list is usually not directly used by the programmer except when tasks are added to it and the scheduler is called. An example showing the use of the task list is given in the last few lines of the documentation for class {\ttfamily \doxylink{classcotask_1_1_task}{Task}}.

The task list is sorted by priority so that the scheduler can efficiently look through the list to find the highest priority task which is ready to run at any given time. Tasks can also be scheduled in a simpler "{}round-\/robin"{} fashion. 

Definition at line \mbox{\hyperlink{cotask_8py_source_l00299}{299}} of file \mbox{\hyperlink{cotask_8py_source}{cotask.\+py}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classcotask_1_1_task_list_aad6d72c01326f1c869492c5643f2a42e}\index{cotask.TaskList@{cotask.TaskList}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!cotask.TaskList@{cotask.TaskList}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily \label{classcotask_1_1_task_list_aad6d72c01326f1c869492c5643f2a42e} 
cotask.\+Task\+List.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Initialize the task list. 

This creates the list of priorities in which tasks will be organized by priority. 

Definition at line \mbox{\hyperlink{cotask_8py_source_l00303}{303}} of file \mbox{\hyperlink{cotask_8py_source}{cotask.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00303\ \ \ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self):}
\DoxyCodeLine{00304\ }
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00309\ \ \ \ \ \ \ \ \ self.pri\_list\ =\ []}
\DoxyCodeLine{00310\ }
\DoxyCodeLine{00311\ }

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\Hypertarget{classcotask_1_1_task_list_a425ca90daaae28550bf1b3aa2da018ab}\index{cotask.TaskList@{cotask.TaskList}!\_\_repr\_\_@{\_\_repr\_\_}}
\index{\_\_repr\_\_@{\_\_repr\_\_}!cotask.TaskList@{cotask.TaskList}}
\doxysubsubsection{\texorpdfstring{\_\_repr\_\_()}{\_\_repr\_\_()}}
{\footnotesize\ttfamily \label{classcotask_1_1_task_list_a425ca90daaae28550bf1b3aa2da018ab} 
cotask.\+Task\+List.\+\_\+\+\_\+repr\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Create some diagnostic text showing the tasks in the task list. 



Definition at line \mbox{\hyperlink{cotask_8py_source_l00379}{379}} of file \mbox{\hyperlink{cotask_8py_source}{cotask.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00379\ \ \ \ \ \textcolor{keyword}{def\ }\_\_repr\_\_(self):}
\DoxyCodeLine{00380\ \ \ \ \ \ \ \ \ ret\_str\ =\ \textcolor{stringliteral}{'TASK\ \ \ \ \ \ \ \ \ \ \ \ \ PRI\ \ \ \ PERIOD\ \ \ \ RUNS\ \ \ AVG\ DUR\ \ \ MAX\ '}\ \(\backslash\)}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'DUR\ \ AVG\ LATE\ \ MAX\ LATE\(\backslash\)n'}}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ pri\ \textcolor{keywordflow}{in}\ self.pri\_list:}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ task\ \textcolor{keywordflow}{in}\ pri[2:]:}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ret\_str\ +=\ str(task)\ +\ \textcolor{stringliteral}{'\(\backslash\)n'}}
\DoxyCodeLine{00385\ }
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ret\_str}
\DoxyCodeLine{00387\ }
\DoxyCodeLine{00388\ }

\end{DoxyCode}
\Hypertarget{classcotask_1_1_task_list_ab6aaf44123a285f4355919a5a8229c39}\index{cotask.TaskList@{cotask.TaskList}!append@{append}}
\index{append@{append}!cotask.TaskList@{cotask.TaskList}}
\doxysubsubsection{\texorpdfstring{append()}{append()}}
{\footnotesize\ttfamily \label{classcotask_1_1_task_list_ab6aaf44123a285f4355919a5a8229c39} 
cotask.\+Task\+List.\+append (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{}]{task}{}\end{DoxyParamCaption})}



Append a task to the task list. 

The list will be sorted by task priorities so that the scheduler can quickly find the highest priority task which is ready to run at any given time. 
\begin{DoxyParams}{Parameters}
{\em task} & The task to be appended to the list \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{cotask_8py_source_l00316}{316}} of file \mbox{\hyperlink{cotask_8py_source}{cotask.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00316\ \ \ \ \ \textcolor{keyword}{def\ }append(self,\ task):}
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ See\ if\ there's\ a\ tasklist\ with\ the\ given\ priority\ in\ the\ main\ list}}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ new\_pri\ =\ task.priority}
\DoxyCodeLine{00319\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ pri\ \textcolor{keywordflow}{in}\ self.pri\_list:}
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ a\ tasklist\ with\ this\ priority\ exists,\ add\ this\ task\ to\ it.}}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ pri[0]\ ==\ new\_pri:}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pri.append(task)}
\DoxyCodeLine{00323\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break}}
\DoxyCodeLine{00324\ }
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ If\ the\ priority\ isn't\ in\ the\ list,\ this\ else\ clause\ starts\ a\ new\ }}
\DoxyCodeLine{00326\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ priority\ list\ with\ this\ task\ as\ first\ one.\ A\ priority\ list\ has\ the}}
\DoxyCodeLine{00327\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ priority\ as\ element\ 0,\ an\ index\ into\ the\ list\ of\ tasks\ (used\ for}}
\DoxyCodeLine{00328\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ round-\/robin\ scheduling\ those\ tasks)\ as\ the\ second\ item,\ and\ tasks}}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ after\ those}}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \ \ \ \ self.pri\_list.append([new\_pri,\ 2,\ task])}
\DoxyCodeLine{00332\ }
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Make\ sure\ the\ main\ list\ (of\ lists\ at\ each\ priority)\ is\ sorted}}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ self.pri\_list.sort(key=\textcolor{keyword}{lambda}\ pri:\ pri[0],\ reverse=\textcolor{keyword}{True})}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00336\ }

\end{DoxyCode}
\Hypertarget{classcotask_1_1_task_list_a53819d1e25955560b7cb06bd21715966}\index{cotask.TaskList@{cotask.TaskList}!pri\_sched@{pri\_sched}}
\index{pri\_sched@{pri\_sched}!cotask.TaskList@{cotask.TaskList}}
\doxysubsubsection{\texorpdfstring{pri\_sched()}{pri\_sched()}}
{\footnotesize\ttfamily \label{classcotask_1_1_task_list_a53819d1e25955560b7cb06bd21715966} 
cotask.\+Task\+List.\+pri\+\_\+sched (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Run tasks according to their priorities. 

This scheduler runs tasks in a priority based fashion. Each time it is called, it finds the highest priority task which is ready to run and calls that task\textquotesingle{}s {\ttfamily run()} method. 

Definition at line \mbox{\hyperlink{cotask_8py_source_l00360}{360}} of file \mbox{\hyperlink{cotask_8py_source}{cotask.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00360\ \ \ \ \ \textcolor{keyword}{def\ }pri\_sched(self):}
\DoxyCodeLine{00361\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Go\ down\ the\ list\ of\ priorities,\ beginning\ with\ the\ highest}}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ pri\ \textcolor{keywordflow}{in}\ self.pri\_list:}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Within\ each\ priority\ list,\ run\ tasks\ in\ round-\/robin\ order}}
\DoxyCodeLine{00364\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ Each\ priority\ list\ is\ [priority,\ index,\ task,\ task,\ ...]\ where}}
\DoxyCodeLine{00365\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ index\ is\ the\ index\ of\ the\ next\ task\ in\ the\ list\ to\ be\ run}}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \ \ \ \ tries\ =\ 2}
\DoxyCodeLine{00367\ \ \ \ \ \ \ \ \ \ \ \ \ length\ =\ len(pri)}
\DoxyCodeLine{00368\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ tries\ <\ length:}
\DoxyCodeLine{00369\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ran\ =\ pri[pri[1]].schedule()}
\DoxyCodeLine{00370\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tries\ +=\ 1}
\DoxyCodeLine{00371\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pri[1]\ +=\ 1}
\DoxyCodeLine{00372\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ pri[1]\ >=\ length:}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pri[1]\ =\ 2}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ran:}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}}
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ }

\end{DoxyCode}
\Hypertarget{classcotask_1_1_task_list_aa048a6b12954d03b8fbf78dff7ace907}\index{cotask.TaskList@{cotask.TaskList}!rr\_sched@{rr\_sched}}
\index{rr\_sched@{rr\_sched}!cotask.TaskList@{cotask.TaskList}}
\doxysubsubsection{\texorpdfstring{rr\_sched()}{rr\_sched()}}
{\footnotesize\ttfamily \label{classcotask_1_1_task_list_aa048a6b12954d03b8fbf78dff7ace907} 
cotask.\+Task\+List.\+rr\+\_\+sched (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}



Run tasks in order, ignoring the tasks\textquotesingle{} priorities. 

This scheduling method runs tasks in a round-\/robin fashion. Each time it is called, it goes through the list of tasks and gives each of them a chance to run. Although this scheduler first runs higher priority tasks first, that has no significant effect in the long run, as all the tasks are given a chance to run each time through the list, and it takes about the same amount of time before each is given a chance to run again. 

Definition at line \mbox{\hyperlink{cotask_8py_source_l00347}{347}} of file \mbox{\hyperlink{cotask_8py_source}{cotask.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00347\ \ \ \ \ \textcolor{keyword}{def\ }rr\_sched(self):}
\DoxyCodeLine{00348\ \ \ \ \ \ \ \ \ \textcolor{comment}{\#\ For\ each\ priority\ level,\ run\ all\ tasks\ at\ that\ level}}
\DoxyCodeLine{00349\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ pri\ \textcolor{keywordflow}{in}\ self.pri\_list:}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ task\ \textcolor{keywordflow}{in}\ pri[2:]:}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ task.schedule()}
\DoxyCodeLine{00352\ }
\DoxyCodeLine{00353\ }

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\Hypertarget{classcotask_1_1_task_list_a724ac8246e4b4bf4493d5fce02a8307e}\index{cotask.TaskList@{cotask.TaskList}!pri\_list@{pri\_list}}
\index{pri\_list@{pri\_list}!cotask.TaskList@{cotask.TaskList}}
\doxysubsubsection{\texorpdfstring{pri\_list}{pri\_list}}
{\footnotesize\ttfamily \label{classcotask_1_1_task_list_a724ac8246e4b4bf4493d5fce02a8307e} 
list cotask.\+Task\+List.\+pri\+\_\+list = \mbox{[}$\,$\mbox{]}}



The list of priority lists. 

Each priority for which at least one task has been created has a list whose first element is a task priority and whose other elements are references to task objects at that priority. 

Definition at line \mbox{\hyperlink{cotask_8py_source_l00309}{309}} of file \mbox{\hyperlink{cotask_8py_source}{cotask.\+py}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
lib2/\mbox{\hyperlink{cotask_8py}{cotask.\+py}}\end{DoxyCompactItemize}
