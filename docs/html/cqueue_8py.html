<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: lib2/cqueue.py File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('cqueue_8py.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">cqueue.py File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This file contains documentation and a test program for the custom C queues used in the ME405 library.  
<a href="#details">More...</a></p>

<p><a href="cqueue_8py_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcqueue_1_1_float_queue.html">cqueue.FloatQueue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A fast, pre-allocated queue of floats for MicroPython.  <a href="classcqueue_1_1_float_queue.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcqueue_1_1_int_queue.html">cqueue.IntQueue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A fast, pre-allocated queue of integers for MicroPython.  <a href="classcqueue_1_1_int_queue.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcqueue_1_1_byte_queue.html">cqueue.ByteQueue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A fast, pre-allocated queue of characters for MicroPython.  <a href="classcqueue_1_1_byte_queue.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a226579f767b49bf4eb1bef7202d9d614" id="r_a226579f767b49bf4eb1bef7202d9d614"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a226579f767b49bf4eb1bef7202d9d614">cqueue.main</a> ()</td></tr>
<tr class="memdesc:a226579f767b49bf4eb1bef7202d9d614"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run a test by creating queues, putting numbers into the queues, getting the numbers back out, and checking for consistency.  <br /></td></tr>
<tr class="separator:a226579f767b49bf4eb1bef7202d9d614"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a813d58dc240ac993243e717c59137757" id="r_a813d58dc240ac993243e717c59137757"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a813d58dc240ac993243e717c59137757">cqueue.TEST_SIZE</a> = 3000</td></tr>
<tr class="memdesc:a813d58dc240ac993243e717c59137757"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of times to call put() for each queue.  <br /></td></tr>
<tr class="separator:a813d58dc240ac993243e717c59137757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7833170ad67c37b3fb9790f193728881" id="r_a7833170ad67c37b3fb9790f193728881"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7833170ad67c37b3fb9790f193728881">cqueue.NUM_QUEUE_SIZE</a> = 2000</td></tr>
<tr class="memdesc:a7833170ad67c37b3fb9790f193728881"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of elements in each queue which we create and test.  <br /></td></tr>
<tr class="separator:a7833170ad67c37b3fb9790f193728881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab369103f3b5d711b92e37437004a5778" id="r_ab369103f3b5d711b92e37437004a5778"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab369103f3b5d711b92e37437004a5778">cqueue.BYTE_QUEUE_SIZE</a> = 20</td></tr>
<tr class="memdesc:ab369103f3b5d711b92e37437004a5778"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of characters in the test byte queue.  <br /></td></tr>
<tr class="separator:ab369103f3b5d711b92e37437004a5778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a967f4d8a1d43daf8ac53de56851b8eee" id="r_a967f4d8a1d43daf8ac53de56851b8eee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a967f4d8a1d43daf8ac53de56851b8eee">cqueue.BYTE_T_SIZE</a> = 94</td></tr>
<tr class="memdesc:a967f4d8a1d43daf8ac53de56851b8eee"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of times we try to put something into the byte queue.  <br /></td></tr>
<tr class="separator:a967f4d8a1d43daf8ac53de56851b8eee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bf6be0a3db139468dc72bd63b76f66b" id="r_a0bf6be0a3db139468dc72bd63b76f66b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0bf6be0a3db139468dc72bd63b76f66b">cqueue.NUM_RUNS</a> = 25</td></tr>
<tr class="memdesc:a0bf6be0a3db139468dc72bd63b76f66b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of times we repeat the whole test.  <br /></td></tr>
<tr class="separator:a0bf6be0a3db139468dc72bd63b76f66b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f8bcd32d5a0c907d1fba8eaf800f7b5" id="r_a6f8bcd32d5a0c907d1fba8eaf800f7b5"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f8bcd32d5a0c907d1fba8eaf800f7b5">cqueue.overall</a></td></tr>
<tr class="memdesc:a6f8bcd32d5a0c907d1fba8eaf800f7b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The results of running tests repeatedly.  <br /></td></tr>
<tr class="separator:a6f8bcd32d5a0c907d1fba8eaf800f7b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31e7ec14cb0f45e93a465de3b2b6879e" id="r_a31e7ec14cb0f45e93a465de3b2b6879e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a31e7ec14cb0f45e93a465de3b2b6879e">cqueue.end</a></td></tr>
<tr class="separator:a31e7ec14cb0f45e93a465de3b2b6879e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11aeba072079e527eb6357127d956018" id="r_a11aeba072079e527eb6357127d956018"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11aeba072079e527eb6357127d956018">cqueue.booq</a> = <a class="el" href="classcqueue_1_1_byte_queue.html">cqueue.ByteQueue</a>(10)</td></tr>
<tr class="separator:a11aeba072079e527eb6357127d956018"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file contains documentation and a test program for the custom C queues used in the ME405 library. </p>
<p>These queues are faster than regular Python based queues and don't allocate memory.</p>
<p>The code in this file is <b>not</b> the source code which makes the C queues work. That code is written in C as the file <code><a class="el" href="cqueues_8c.html">cqueues.c</a></code> and compiled into the MicroPython image used in the ME405 course.</p>
<dl class="section author"><dt>Author</dt><dd>JR Ridgely </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2022-Feb-24 JRR Original file </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>(c) 2022 by JR Ridgely and released under the GNU Public License V3.</dd></dl>
<p>It is intended for educational use only, but its use is not limited thereto. THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. </p>

<p class="definition">Definition in file <a class="el" href="cqueue_8py_source.html">cqueue.py</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a226579f767b49bf4eb1bef7202d9d614" name="a226579f767b49bf4eb1bef7202d9d614"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a226579f767b49bf4eb1bef7202d9d614">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cqueue.main </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run a test by creating queues, putting numbers into the queues, getting the numbers back out, and checking for consistency. </p>
<p>While we're at it, keep track of the time it took to put things into the queues, as this can be important if putting data into a queue within an interrupt callback. </p>

<p class="definition">Definition at line <a class="el" href="cqueue_8py_source.html#l00359">359</a> of file <a class="el" href="cqueue_8py_source.html">cqueue.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  359</span><span class="keyword">def </span><a class="code hl_namespace" href="namespacemain.html">main</a>():</div>
<div class="line"><span class="lineno">  360</span>    <span class="stringliteral">&quot;&quot;&quot;!</span></div>
<div class="line"><span class="lineno">  361</span><span class="stringliteral">    Run a test by creating queues, putting numbers into the queues, getting the</span></div>
<div class="line"><span class="lineno">  362</span><span class="stringliteral">    numbers back out, and checking for consistency. While we&#39;re at it, keep</span></div>
<div class="line"><span class="lineno">  363</span><span class="stringliteral">    track of the time it took to put things into the queues, as this can be</span></div>
<div class="line"><span class="lineno">  364</span><span class="stringliteral">    important if putting data into a queue within an interrupt callback.</span></div>
<div class="line"><span class="lineno">  365</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  366</span>    int_queue = <a class="code hl_class" href="classcqueue_1_1_int_queue.html">cqueue.IntQueue</a>(NUM_QUEUE_SIZE)</div>
<div class="line"><span class="lineno">  367</span>    float_queue = <a class="code hl_class" href="classcqueue_1_1_float_queue.html">cqueue.FloatQueue</a>(NUM_QUEUE_SIZE)</div>
<div class="line"><span class="lineno">  368</span>    byte_queue = <a class="code hl_class" href="classcqueue_1_1_byte_queue.html">cqueue.ByteQueue</a>(BYTE_QUEUE_SIZE)</div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span>    intdursum = 0                        <span class="comment"># Sums of durations of put() calls</span></div>
<div class="line"><span class="lineno">  371</span>    floatdursum = 0</div>
<div class="line"><span class="lineno">  372</span>    bytedursum = 0</div>
<div class="line"><span class="lineno">  373</span>    intdurmax = 0                        <span class="comment"># Maximum durations of the put() calls</span></div>
<div class="line"><span class="lineno">  374</span>    floatdurmax = 0</div>
<div class="line"><span class="lineno">  375</span>    bytedurmax = 0</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>    <span class="comment"># Write things into queues, overwriting some data to make sure that&#39;s OK</span></div>
<div class="line"><span class="lineno">  378</span>    <span class="keywordflow">for</span> count <span class="keywordflow">in</span> range(TEST_SIZE):</div>
<div class="line"><span class="lineno">  379</span>        count += 1                       <span class="comment"># Prevent division by zero in test</span></div>
<div class="line"><span class="lineno">  380</span>        begin_time = utime.ticks_us()</div>
<div class="line"><span class="lineno">  381</span>        int_queue.put(count)</div>
<div class="line"><span class="lineno">  382</span>        dur = utime.ticks_diff(utime.ticks_us(), begin_time)</div>
<div class="line"><span class="lineno">  383</span>        intdursum += dur</div>
<div class="line"><span class="lineno">  384</span>        intdurmax = dur <span class="keywordflow">if</span> dur &gt; intdurmax <span class="keywordflow">else</span> intdurmax</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>    <span class="keywordflow">for</span> count <span class="keywordflow">in</span> range(TEST_SIZE):</div>
<div class="line"><span class="lineno">  387</span>        count += 1</div>
<div class="line"><span class="lineno">  388</span>        begin_time = utime.ticks_us()</div>
<div class="line"><span class="lineno">  389</span>        float_queue.put(count)</div>
<div class="line"><span class="lineno">  390</span>        dur = utime.ticks_diff(utime.ticks_us(), begin_time)</div>
<div class="line"><span class="lineno">  391</span>        floatdursum += dur</div>
<div class="line"><span class="lineno">  392</span>        floatdurmax = dur <span class="keywordflow">if</span> dur &gt; floatdurmax <span class="keywordflow">else</span> floatdurmax</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>    <span class="comment"># Put characters into the byte queue, either one character at a time or by</span></div>
<div class="line"><span class="lineno">  395</span>    <span class="comment"># making a string and dumping that into the queue. It seems putting known</span></div>
<div class="line"><span class="lineno">  396</span>    <span class="comment"># characters in the queue is very fast; construting f-strings, not so much</span></div>
<div class="line"><span class="lineno">  397</span>    <span class="keywordflow">for</span> count <span class="keywordflow">in</span> range (BYTE_T_SIZE):</div>
<div class="line"><span class="lineno">  398</span>        a_chr = chr(ord(<span class="stringliteral">&#39;!&#39;</span>) + count)</div>
<div class="line"><span class="lineno">  399</span>        count += 1</div>
<div class="line"><span class="lineno">  400</span>        begin_time = utime.ticks_us()</div>
<div class="line"><span class="lineno">  401</span><span class="comment">#         byte_queue.put (a_chr)                # A single character at a time</span></div>
<div class="line"><span class="lineno">  402</span><span class="comment">#         byte_queue.put (&#39;Floofala&#39;)             # Several characters at once</span></div>
<div class="line"><span class="lineno">  403</span>        byte_queue.put (f<span class="stringliteral">&quot;{a_chr}&quot;</span>)           <span class="comment"># An f-string of characters</span></div>
<div class="line"><span class="lineno">  404</span>        dur = utime.ticks_diff(utime.ticks_us(), begin_time)</div>
<div class="line"><span class="lineno">  405</span>        bytedursum += dur</div>
<div class="line"><span class="lineno">  406</span>        bytedurmax = dur <span class="keywordflow">if</span> dur &gt; bytedurmax <span class="keywordflow">else</span> bytedurmax</div>
<div class="line"><span class="lineno">  407</span> </div>
<div class="line"><span class="lineno">  408</span>    <span class="keywordflow">while</span> int_queue.any() <span class="keywordflow">and</span> float_queue.any():</div>
<div class="line"><span class="lineno">  409</span>        got_this = int_queue.get()</div>
<div class="line"><span class="lineno">  410</span>        got_that = float_queue.get()</div>
<div class="line"><span class="lineno">  411</span>        <span class="keywordflow">if</span> (float(got_this) - got_that) / got_that &gt; 0.0001:</div>
<div class="line"><span class="lineno">  412</span>            <span class="keywordflow">print</span> (f<span class="stringliteral">&quot;Error: got_this != got_that&quot;</span>)</div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>    print(f<span class="stringliteral">&quot;for {TEST_SIZE} calls to put() in {NUM_QUEUE_SIZE} size queues:&quot;</span>)</div>
<div class="line"><span class="lineno">  415</span>    print(f<span class="stringliteral">&quot;Ints:    Avg {intdursum / TEST_SIZE:.1f}, Max {intdurmax} us&quot;</span>)</div>
<div class="line"><span class="lineno">  416</span>    print(f<span class="stringliteral">&quot;Floats:  Avg {floatdursum / TEST_SIZE:.1f}, Max {floatdurmax} us&quot;</span>)</div>
<div class="line"><span class="lineno">  417</span>    print(f<span class="stringliteral">&quot;Strings: Avg {bytedursum / BYTE_T_SIZE:.1f}, Max {bytedurmax} us&quot;</span>)</div>
<div class="line"><span class="lineno">  418</span> </div>
<div class="line"><span class="lineno">  419</span>    <span class="comment"># Print just the last 50 characters, or however many are available, from</span></div>
<div class="line"><span class="lineno">  420</span>    <span class="comment"># the byte queue. This has been used to verify that the contents are OK</span></div>
<div class="line"><span class="lineno">  421</span>    count = 0</div>
<div class="line"><span class="lineno">  422</span>    <span class="keywordflow">while</span> byte_queue.any():</div>
<div class="line"><span class="lineno">  423</span>        got_char = byte_queue.get()</div>
<div class="line"><span class="lineno">  424</span>        <span class="keywordflow">if</span> count &lt; 50:</div>
<div class="line"><span class="lineno">  425</span>            print(got_char.decode(), end=<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno">  426</span>            count += 1</div>
<div class="line"><span class="lineno">  427</span>    print(<span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>    overall[<span class="stringliteral">&quot;Int Sum&quot;</span>] += intdursum</div>
<div class="line"><span class="lineno">  430</span>    overall[<span class="stringliteral">&quot;Int Max&quot;</span>] = max(overall[<span class="stringliteral">&quot;Int Max&quot;</span>], intdurmax)</div>
<div class="line"><span class="lineno">  431</span>    overall[<span class="stringliteral">&quot;Float Sum&quot;</span>] += floatdursum</div>
<div class="line"><span class="lineno">  432</span>    overall[<span class="stringliteral">&quot;Float Max&quot;</span>] = max(overall[<span class="stringliteral">&quot;Float Max&quot;</span>], floatdurmax)</div>
<div class="line"><span class="lineno">  433</span>    overall[<span class="stringliteral">&quot;Byte Sum&quot;</span>] += bytedursum</div>
<div class="line"><span class="lineno">  434</span>    overall[<span class="stringliteral">&quot;Byte Max&quot;</span>] = max(overall[<span class="stringliteral">&quot;Byte Max&quot;</span>], bytedurmax)</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span><span class="comment"># Run the test suite the given numer of times for a crude reliability test. A</span></div>
<div class="line"><span class="lineno">  438</span><span class="comment"># memory allocation bug has been found in the past by creating and using queues</span></div>
<div class="line"><span class="lineno">  439</span><span class="comment"># many times</span></div>
<div class="ttc" id="aclasscqueue_1_1_byte_queue_html"><div class="ttname"><a href="classcqueue_1_1_byte_queue.html">cqueue.ByteQueue</a></div><div class="ttdoc">A fast, pre-allocated queue of characters for MicroPython.</div><div class="ttdef"><b>Definition</b> <a href="cqueue_8py_source.html#l00229">cqueue.py:229</a></div></div>
<div class="ttc" id="aclasscqueue_1_1_float_queue_html"><div class="ttname"><a href="classcqueue_1_1_float_queue.html">cqueue.FloatQueue</a></div><div class="ttdoc">A fast, pre-allocated queue of floats for MicroPython.</div><div class="ttdef"><b>Definition</b> <a href="cqueue_8py_source.html#l00033">cqueue.py:33</a></div></div>
<div class="ttc" id="aclasscqueue_1_1_int_queue_html"><div class="ttname"><a href="classcqueue_1_1_int_queue.html">cqueue.IntQueue</a></div><div class="ttdoc">A fast, pre-allocated queue of integers for MicroPython.</div><div class="ttdef"><b>Definition</b> <a href="cqueue_8py_source.html#l00131">cqueue.py:131</a></div></div>
<div class="ttc" id="anamespacemain_html"><div class="ttname"><a href="namespacemain.html">main</a></div><div class="ttdef"><b>Definition</b> <a href="main_8py_source.html#l00001">main.py:1</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a11aeba072079e527eb6357127d956018" name="a11aeba072079e527eb6357127d956018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11aeba072079e527eb6357127d956018">&#9670;&#160;</a></span>booq</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cqueue.booq = <a class="el" href="classcqueue_1_1_byte_queue.html">cqueue.ByteQueue</a>(10)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cqueue_8py_source.html#l00459">459</a> of file <a class="el" href="cqueue_8py_source.html">cqueue.py</a>.</p>

</div>
</div>
<a id="ab369103f3b5d711b92e37437004a5778" name="ab369103f3b5d711b92e37437004a5778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab369103f3b5d711b92e37437004a5778">&#9670;&#160;</a></span>BYTE_QUEUE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cqueue.BYTE_QUEUE_SIZE = 20</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of characters in the test byte queue. </p>

<p class="definition">Definition at line <a class="el" href="cqueue_8py_source.html#l00340">340</a> of file <a class="el" href="cqueue_8py_source.html">cqueue.py</a>.</p>

</div>
</div>
<a id="a967f4d8a1d43daf8ac53de56851b8eee" name="a967f4d8a1d43daf8ac53de56851b8eee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a967f4d8a1d43daf8ac53de56851b8eee">&#9670;&#160;</a></span>BYTE_T_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cqueue.BYTE_T_SIZE = 94</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of times we try to put something into the byte queue. </p>
<p>It's kept somewhat small so we're putting in printable ASCII characters </p>

<p class="definition">Definition at line <a class="el" href="cqueue_8py_source.html#l00344">344</a> of file <a class="el" href="cqueue_8py_source.html">cqueue.py</a>.</p>

</div>
</div>
<a id="a31e7ec14cb0f45e93a465de3b2b6879e" name="a31e7ec14cb0f45e93a465de3b2b6879e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31e7ec14cb0f45e93a465de3b2b6879e">&#9670;&#160;</a></span>end</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cqueue.end</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="cqueue_8py_source.html#l00442">442</a> of file <a class="el" href="cqueue_8py_source.html">cqueue.py</a>.</p>

</div>
</div>
<a id="a7833170ad67c37b3fb9790f193728881" name="a7833170ad67c37b3fb9790f193728881"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7833170ad67c37b3fb9790f193728881">&#9670;&#160;</a></span>NUM_QUEUE_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cqueue.NUM_QUEUE_SIZE = 2000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of elements in each queue which we create and test. </p>

<p class="definition">Definition at line <a class="el" href="cqueue_8py_source.html#l00337">337</a> of file <a class="el" href="cqueue_8py_source.html">cqueue.py</a>.</p>

</div>
</div>
<a id="a0bf6be0a3db139468dc72bd63b76f66b" name="a0bf6be0a3db139468dc72bd63b76f66b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bf6be0a3db139468dc72bd63b76f66b">&#9670;&#160;</a></span>NUM_RUNS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cqueue.NUM_RUNS = 25</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of times we repeat the whole test. </p>

<p class="definition">Definition at line <a class="el" href="cqueue_8py_source.html#l00347">347</a> of file <a class="el" href="cqueue_8py_source.html">cqueue.py</a>.</p>

</div>
</div>
<a id="a6f8bcd32d5a0c907d1fba8eaf800f7b5" name="a6f8bcd32d5a0c907d1fba8eaf800f7b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f8bcd32d5a0c907d1fba8eaf800f7b5">&#9670;&#160;</a></span>overall</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict cqueue.overall</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  {<span class="stringliteral">&quot;Int Sum&quot;</span>   : 0,</div>
<div class="line"><span class="lineno">    2</span>           <span class="stringliteral">&quot;Int Max&quot;</span>   : 0,</div>
<div class="line"><span class="lineno">    3</span>           <span class="stringliteral">&quot;Float Sum&quot;</span> : 0,</div>
<div class="line"><span class="lineno">    4</span>           <span class="stringliteral">&quot;Float Max&quot;</span> : 0,</div>
<div class="line"><span class="lineno">    5</span>           <span class="stringliteral">&quot;Byte Sum&quot;</span>  : 0,</div>
<div class="line"><span class="lineno">    6</span>           <span class="stringliteral">&quot;Byte Max&quot;</span>  : 0</div>
<div class="line"><span class="lineno">    7</span>          }</div>
</div><!-- fragment -->
<p>The results of running tests repeatedly. </p>

<p class="definition">Definition at line <a class="el" href="cqueue_8py_source.html#l00350">350</a> of file <a class="el" href="cqueue_8py_source.html">cqueue.py</a>.</p>

</div>
</div>
<a id="a813d58dc240ac993243e717c59137757" name="a813d58dc240ac993243e717c59137757"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a813d58dc240ac993243e717c59137757">&#9670;&#160;</a></span>TEST_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cqueue.TEST_SIZE = 3000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of times to call put() for each queue. </p>

<p class="definition">Definition at line <a class="el" href="cqueue_8py_source.html#l00334">334</a> of file <a class="el" href="cqueue_8py_source.html">cqueue.py</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_e5f645cd31f18c2fd04267af14434d0f.html">lib2</a></li><li class="navelem"><a class="el" href="cqueue_8py.html">cqueue.py</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
